<!-- Create new project modal -->
<div ng-include src="'views/partials/projectModal.html'"/>
</div>

<!-- The project list  -->
<ul class="thumbnails">
  <li class="span3">
    <div class="thumbnail">
      <div class="projecs-header">
        <h4>Projects</h4>
          <a class="btn btn-primary btn-small" ng-click="showNewProject()">
            <i class="icon-plus"></i> Add new project</a>
      </div>        

      <div class="projects" id="projects">
        <div class="project" ng-repeat="project in projects">
          <div class="project-header in project-{{project.id}}" id="project-header-{{project.id}}">
              <a data-toggle="collapse" data-target=".project-{{project.id}}" data-parent="#projects">
                <i class="icon-chevron-right"></i>
              </a>
              {{project.name}}
              <a ng-click="stopProjectTimer(project)" class="btn btn-small pull-right" ng-show="project.active" >Stop</a>                  
              <a ng-click="startProjectTimer(project)" class="btn btn-small pull-right" ng-hide="project.active">Start</a>                  
          </div>
          <div id="project-form-{{project.id}}" class="collapse project-form project-{{project.id}}">
            <form>
              <fieldset>
                <a class="collapse-arrow" data-toggle="collapse" data-target=".project-{{project.id}}" data-parent="#projects">
                  <i class="icon-chevron-down"></i>
                </a>
                <div class="control-group">
                  <label>Project Name
                    <span class="controls">
                      <input type="text" placeholder="Project name" ng-model="project.name">
                    </span>
                  </label>
                </div>
                <div class="control-group">
                  <label>Customer Name
                    <span class="controls">
                      <input type="text" placeholder="Customer name" ng-model="project.customerName"> 
                    </span>
                  </label>
                </div>

                <div class="control-group">
                  <label>Rate
                    <div class="controls">
                      <input type="number" placeholder="Hourly rate" ng-model="project.rate">
                    </div>
                  </label>                      
                </div>

                <div class="control-group">
                  <div class="controls">
                    <div class="btn-group">
                      <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="#">
                        More
                        <span class="caret"></span>
                      </a>
                      <ul class="dropdown-menu">
                        <li class="mini ">
                          <small>
                            <a ng-click="removeProject(project)">Delete Project</a>                                    
                          </small>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

                <div class="control-group">
                  <div class="controls">
                    <div class=" btn-group">
                      <button class="btn btn-small icon-ok" ng-click="updateProject(project)"  data-toggle="collapse" data-target=".project-{{project.id}}" data-parent="#projects"> Save</button>
                      <button class="btn btn-small icon-remove" ng-click="restoreProject(project)" data-toggle="collapse" data-target=".project-{{project.id}}" data-parent="#projects"> Close</button>
                    </div>
                  </div>
                </div>

              </fieldset>
            </form>                
          </div>                  
        </div>                  
      </div>

    </div>
  </li>
</ul>
